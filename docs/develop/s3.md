# S3 as Storage backend

## I chose S3 when initializing the repository!

If you are reading this section, you are lucky! You will only have to perform a few configuration changes. If on the contrary you didn't choose S3 as storage when initializing the repository file system, [navigate below](#i-didnt-choose-s3-when-initializing) to follow more in depth instructions!

### Bucket and data location

A default bucket (`data`) is created automatically in your minio container. This bucket will be used as the default files' location for your InvenioRDM instance.

### Set your credentials

The last step is to set your credentials so your instance can authenticate against the S3 container.

By default, the `ROOT_USER` and the `ROOT_USER_PASSWORD` of MinIO are "CHANGE_ME". For security reasons, you should change them. This will require you to:

- Stop your services by using the CLI: `invenio-cli services stop` (Or stop only your minio container).
- In the `docker-services.yaml` file change the `MINIO_ROOT_USER` and `MINIO_ROOT_PASSWORD` values.
- Update the credentials in the `invenio.cfg` file: The root user value corresponds to `S3_ACCESS_KEY_ID` and the password to `S3_SECRET_ACCESS_KEY`.
- Start your services: `invenio-cli services start`.

It's done! Ready to roll!

## I didn't choose S3 when initializing

You are here, but do not panic, it's not difficult just longer.

Coming soon.
